<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>Comparison – </title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" href="./css/pandoc.css" type="text/css" />
</head>
<body>
<div class="nav"><a href="index.html">Overview</a>&nbsp;&nbsp;<b>|</b>&nbsp;&nbsp;<a href="comparison.html">Comparison</a>&nbsp;&nbsp;<b>|</b>&nbsp;&nbsp;<a href="raspberry_pi_server.html">Raspberry Pi</a>&nbsp;&nbsp;<b>|</b>&nbsp;&nbsp;<a href="using_massmine.html">MassMine</a>&nbsp;&nbsp;<b>|</b>&nbsp;&nbsp;<a href="references.html">References</a></div>
<h1 id="comparison">Comparison</h1>
<p>Text here for introduction to “Comparison” section…</p>
<p style="margin-bottom:-10px;">
Page Content:
</p>
<ul class="toc">
<li>
<a href="#materials">Materials</a>
</li>
<li>
<a href="#procedure">Procedure</a>
</li>
<li>
<a href="#results">Results</a>
</li>
<li>
<a href="#conclusion">Conclusion</a>
</li>
</ul>
<h2 id="materials">Materials</h2>
<p>Simulations were conducted on two separate hardware setups: (1) a recent release of the Raspberry Pi, and (2) a Lenovo ThinkPad laptop, representative of a typical middle-tier personal computer. The laptop served as a control for comparison to various measurements on the Raspberry Pi. We believe the laptop serves as a reasonable baseline as it is neither geared toward power efficiency (like more spartan options such as a Google Chromebook), nor a particularly high-end workstation typical of those laptops or desktops that are built for sound or video processing. As such, it serves its function as a model of the “average” personal computer.</p>
<p>The hardware of interest was a Raspberry Pi 3 Model B+ featuring 1 GB of LPDDR2 SDRAM and an ARMv8 Quad 4 processor with each of four cores running at 1.4GHz. Collected data was written to an external Seagate hard disk drive for demonstration purposes, and as such the power consumption of the external drive was not considered in the analysis that follows. Data could have just as easily been written directly to the Raspberry Pi’s on-board USB drive to mitigate this extra power cost. For compatibility with the typical Raspberry Pi user, we installed and used the recommended Rasbian operating system (April 2018 version; kernel 4.14). To date, this reflects the most recent and computationally advanced hardware release, and as a consequence, the most energy intensive model currently available. As such, the chosen model demonstrates the current “worst case” scenario for energy consumption for the Raspberry Pi series of boards. It is worth noting that prior versions of the Pi can also run MassMine with little effective change in overall run time.</p>
<p>Our comparison laptop featured relatively average hardware for a personal computer, including an Intel i5-421OU processor (four cores at 2.7GHz) and 8GB of DDR3 SDRAM. The operating system used during the simulations was the free and open source Arch Linux distribution (kernel 4.16.12-1-ARCH). Data were written to the computer’s internal hard disk drive.</p>
<h2 id="procedure">Procedure</h2>
<p>Comparisons were made possible through a number of data simulations. MassMine was installed on both computers, and a script was created that subjected both computers to an identical series of routines. For each device, a small amount of data was collected for each of 11 different MassMine “tasks” (each task in MassMine provides access to data from a different online source, like Twitter or Google Trends). This procedure was repeated 200 times per task for a total of 2200 data collection iterations per computer. Information on each individual simulation was collected using the <a href="https://www.gnu.org/software/time/">GNU time</a> command line program, including (1) elapsed real time in seconds and (2) percentage of CPU usage.</p>
<h2 id="results">Results</h2>
<p>While it is difficult to determine precisely how much power is consumed by the Raspberry Pi during any given task (power consumption for any computing device is contingent on both the base operating cost and how much each processing core is consumed), we can make some reasonable approximations based off of efforts in the maker community (see, for example, <a href="http://raspi.tv/2018/how-much-power-does-raspberry-pi-3b-use-power-measurements">here</a> and <a href="https://www.pidramble.com/wiki/benchmarks/power-consumption">here</a>). First, we know that the Raspberry Pi requires a 2.5 Amp power supply providing 5.2 volts, although only a fraction of this is used to power the Pi itself (the remaining available amperage can power peripherals and provide power stability). To simplify our estimates we once again take the worst case scenario and assume that running MassMine will max out the CPU (although this was not empirically the case, as shown in Figure 2). The peak amperage for a single CPU core on the Pi is approximately 0.69 Amps. Taken together, this amounts to a minimum of 3.588 watts of power to run MassMine on the Pi (watts = voltage x amperage = 5.2 x 0.69 = 3.588). Beyond that, it is possible to run multiple instances of MassMine concurrently, with each executing in parallel on a separate CPU core. Thus it is useful to consider the peak operating amperage across all four cores of the Pi’s processor—approximately 0.98 amps, or 5.096 watts of maximum power consumption.</p>
<p>To provide some context, it is useful to consider what these wattage estimates mean in terms of dollars spent. The cost of electricity varies across time and location, but the U.S. Energy Information Administration <a href="https://www.eia.gov/electricity/state/">provides data</a> on the average cost per kilowatt hour for each state and the country at large. To provide a suitable survey of the possible costs, we take the average national cost (10.27 cents/kWh), as well as the lowest (Louisiana at 7.46 center/kWh) and highest (Hawaii at 23.87 cents/kWh) reported costs from the most recent data release (2016 data, released January 25, 2018).</p>
<div class="figure">
<img src="./images/figure-2.png" />

</div>
<p>Taken together, these costs (converted from kilowatts to watts) can be considered across the range of operating wattage possible on the Raspberry Pi. Figure 1, which depicts cost per day (left vertical axis) and cost per year (right vertical axis) as a function of wattage, reflects these theoretical losses. The horizontal axis shows the change in wattage from the minimum (that is, our “worst case” minimum of one CPU core at 100%) to maximum (all four cores at 100%) possible while running MassMine. The broken blue curve shows the national average cost to run MassMine on the Raspberry Pi. The solid blue line below reflects the minimum cost (Louisiana), while the upper blue line depicts the maximum cost (Hawaii). Thus the shaded area reflects the range of possible operating costs for the entire region.</p>
<p>The same estimates were generated for the comparison laptop. <a href="https://ark.intel.com/products/81016/Intel-Core-i5-4210U-Processor-3M-Cache-up-to-2_70-GHz">According to Intel</a> and <a href="http://cpuboss.com/cpu/Intel-Core-i5-4210U">cpuboss.com</a> the Intel Core i5-421OU processor has a Thermal Design Power (peak average power consumption) of 15 watts and typical consumption around 12.19 watts. Combined with our estimated electricity costs, we can generate a similar set of curves for the typical personal computer running MassMine (Figure 1, red shading). Under all comparable conditions, the Raspberry Pi has smaller efficiency costs (approximately 30% less). Note that this does not reflect the costs of any attached peripherals, such as the cost of running the computer monitor. In our setup, the Pi is not connected to any other power-consuming devices, including a monitor, so the final savings is likely much greater than the typical computer.</p>
<p>As discussed in the “Overview” of this webtext, efficiency can be understood across a number of domains. Notably, processing time is a relevant consideration in this case. For example, if the Pi takes 30% longer to complete the same tasks as the personal computer, the power savings are negated for any finite-running tasks. To assess this, we compared both processing time and CPU consumption across devices for a number of data collection tasks available through the MassMine software. Average completion time and CPU usage are reported for each device (Figure 2). Error bars, depicting standard error of the mean, demonstrate clear differences between the Raspberry Pi and the personal computer across all tasks. For most tasks, however, the difference in completion time is negligible—except for two conditions, the Pi managed similar temporal results. This means that for some tasks—2 out of 11—the Raspberry Pi takes longer to complete its work than the personal computer. These two conditions are addressed below. However, it is worth noting that while there are statistically significant differences between the two devices, the absolute difference, and thus the practical significance, is negligible. The actual difference in time in the worst condition is on the order of 10-12 seconds. While MassMine asked more of the Pi’s CPU (Figure 2 inset), the mean rate was always below 100%. It is worth noting that short data collection batches were conducted for each task. Because of this, a meaningful proportion of the processing time for each simulation was dedicated to software startup and shutdown activities (a fact of particular relevance to the two right-most tasks in Figure 2). These are particularly costly steps relative to those associated with the activity of more passively collecting data. As such, for longer running activities (typical of real-world data collection efforts), the mean duration between devices is likely to shrink significantly, especially for the most egregious tasks.</p>
<div class="figure">
<img src="./images/figure-2.png" />

</div>
<h2 id="conclusion">Conclusion</h2>
<p>Taken together, these results tell a compelling story: under conditions typical of social media data collection projects, the Raspberry Pi is able to handle the same data acquisition demands as standard personal computers. Further, it is able to accomplish identical tasks with negligible differences in processing time (Figure 2) while using a fraction of electrical power (Figure 1). This efficiency gap can be further widened by setting up a data collection Pi in headless mode. In this context, a headless computer is one with no keyboard, mouse, or monitor that is instead controlled remotely over a network. In this way, a dedicated Raspberry Pi data collection machine can be set up and controlled remotely over a shared local wifi network. Without the added costs of powering connected peripherals—most notably, a monitor—long-running data collections spanning many months or years can persist on a trickle of energy, while freeing up remaining computing resources for other work. In the tutorial that follows, we describe how to set up such a headless data collection device using MassMine and a Raspberry Pi.</p>
<a href="raspberry_pi_server.html">
<button type="button">
Next Page
</button>
<p></a></p>
</body>
</html>
